<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Renta Auto La Pe√±ita de Jaltemba</title>

  <style>
    body{ margin:0; padding:0; background:#eef5ff; font-family:Arial,sans-serif; text-align:center; }
    header{ padding:20px; font-size:28px; color:#003366; font-weight:bold; background:#fff; line-height:1.2; }
    .subtitle{ margin-top:6px; font-size:18px; color:#555; font-weight:normal; }

    .card{
      margin:50px auto 20px auto;
      padding:40px;
      background:#fff;
      border:3px solid #0066ff;
      border-radius:12px;
      width:90%;
      max-width:600px;
      box-shadow:0 0 10px rgba(0,0,0,0.1);
    }
    .card h2{ font-size:24px; color:#003399; margin:0 0 10px 0; }
    .card p{ font-size:16px; color:#333; margin:6px 0; }

    .cta{ max-width:600px; margin:0 auto 26px auto; padding:0 16px; font-size:14px; color:#333; }
    .cta a{
      display:inline-block; margin-top:10px; padding:12px 16px;
      border-radius:12px; border:2px solid #0066ff; text-decoration:none;
      font-weight:bold; color:#003399; background:#fff;
    }
    .cta a:hover{ background:#f2f6ff; }

    .footer{ max-width:600px; margin:0 auto 30px auto; font-size:14px; color:#444; padding:0 16px; }
    .footer a{ color:#003399; text-decoration:none; font-weight:bold; }
    .footer a:hover{ text-decoration:underline; }

    .chat-center{
      margin-top:18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:14px;
    }

    @keyframes fadeIn{ from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
    @keyframes pop{ 0%,100%{transform:scale(1);} 50%{transform:scale(1.06);} }

    .chat-float{
      background:#007bff;
      color:#fff;
      padding:12px 18px;
      border-radius:25px;
      font-size:14px;
      box-shadow:0 4px 10px rgba(0,0,0,0.2);
      cursor:pointer;
      user-select:none;
      max-width:520px;
      animation:fadeIn 0.8s ease forwards, pop 1.6s ease-in-out infinite;
    }

    /* ‚úÖ BOT AMARILLO GRANDE */
    .avatar-center{
      width:130px;
      height:130px;
      cursor:pointer;
      user-select:none;
      border-radius:22px;
      animation:pop 2s ease-in-out infinite;
      box-shadow:0 10px 20px rgba(0,0,0,0.18);
      object-fit:cover; /* si tu PNG tiene margen, esto lo ‚Äúacerca‚Äù */
      display:block;
      background:transparent;
    }

    /* (Opcional) m√°scara para tapar launcher abajo-derecha si Botpress insiste */
    #bpLauncherMask{
      position:fixed;
      right:8px; bottom:8px;
      width:120px; height:120px;
      background:#eef5ff;
      border-radius:26px;
      z-index:2147483647;
      pointer-events:auto;
    }
  </style>
</head>

<body>

  <header>
    RENTA AUTO LA PE√ëITA DE JALTEMBA
    <div class="subtitle">Nayarit M√©xico</div>
  </header>

  <div class="card">
    <div style="font-size:30px;margin-bottom:15px;">üöó üöô üöê</div>
    <h2>Recepcionista<br>Renta de Autos</h2>
    <p>Atenci√≥n 24/7.</p>
    <p>Atenci√≥n personalizada para tu reserva.</p>
    <p>Interact√∫a üëâ conmigo (toca el bot amarillo).</p>
    <p>Soy tu agente de informes y reservaciones.</p>

    <div class="chat-center">
      <div id="chatFloat" class="chat-float" style="display:none;">
        üí¨ Hola, estoy a tus √≥rdenes... INFORMES, RESERVACIONES, REQUISITOS, PRECIOS üßë‚Äçüí¨
      </div>

      <!-- ‚úÖ ruta RELATIVA -->
      <img id="chatAvatarCenter" class="avatar-center"
           src="avatar-amarillo.png"
           alt="Iniciar chat"
           title="Toca para abrir el chat">
    </div>
  </div>

  <div class="cta">
    <div><strong>¬øYa decidiste contratar?</strong> Te atendemos en WhatsApp:</div>
    <a href="https://wa.me/523271023282?text=Hola%2C%20vengo%20del%20chatbot%20de%20Renta%20Auto%20La%20Pe%C3%B1ita.%20Ya%20deseo%20contratar%2Freservar.%20%C2%BFMe%20apoyas%3F"
       target="_blank" rel="noopener">‚úÖ Contratar / Reservar por WhatsApp</a>
    <div style="margin-top:8px;color:#555;font-size:13px;">
      (Primero te atiende el chatbot. Cuando ya est√©s listo para contratar, aqu√≠ pasas con atenci√≥n humana.)
    </div>
  </div>

  <div class="footer">
    <a href="aviso-privacidad.html" target="_blank" rel="noopener">Aviso de Privacidad</a>
    <span> ‚Ä¢ </span>
    <span>Al usar el chat, pueden emplearse cookies/almacenamiento local para operar el servicio.</span>
  </div>

  <!-- (Opcional) si ya ocultaste el launcher con √©xito, puedes borrar esta l√≠nea -->
  <div id="bpLauncherMask"></div>

  <!-- Botpress -->
  <script src="https://cdn.botpress.cloud/webchat/v3.0/inject.js" defer></script>
  <script src="https://files.bpcontent.cloud/2025/05/29/03/20250529033022-NJ8W71H5.js" defer></script>

  <script>
    // Mostrar burbuja azul
    setTimeout(() => {
      const bubble = document.getElementById('chatFloat');
      if (bubble) bubble.style.display = 'block';
    }, 800);

    function abrirChatBotpress() {
      const start = Date.now();

      const intentarAbrir = () => {
        // ‚úÖ API oficial v3: window.botpress.open/toggle
        if (window.botpress && typeof window.botpress.open === 'function') {
          window.botpress.open();
          // al abrir, podemos ocultar la m√°scara para no tapar el chat
          const m = document.getElementById('bpLauncherMask');
          if (m) m.style.display = 'none';
          return true;
        }
        if (window.botpress && typeof window.botpress.toggle === 'function') {
          window.botpress.toggle();
          const m = document.getElementById('bpLauncherMask');
          if (m) m.style.display = 'none';
          return true;
        }

        // Fallback (versiones anteriores)
        if (window.botpressWebChat && typeof window.botpressWebChat.sendEvent === 'function') {
          window.botpressWebChat.sendEvent({ type: 'toggle' });
          const m = document.getElementById('bpLauncherMask');
          if (m) m.style.display = 'none';
          return true;
        }
        return false;
      };

      if (intentarAbrir()) return;

      // Reintentar unos segundos por si el script a√∫n no carga
      const t = setInterval(() => {
        if (intentarAbrir() || (Date.now() - start > 12000)) clearInterval(t);
      }, 250);
    }

    // ‚úÖ Click en bot amarillo => abre chat
    document.getElementById('chatAvatarCenter').addEventListener('click', abrirChatBotpress);

    // (Opcional) click en barra azul => abre chat
    document.getElementById('chatFloat').addEventListener('click', abrirChatBotpress);

    // Intento adicional para esconder el launcher si Botpress lo vuelve a poner
    (function ocultarLauncher(){
      const start = Date.now();
      const t = setInterval(() => {
        try{
          document.querySelectorAll('.bpw-floating-button, .bpw-widget-btn, .bpw-fab, #bpw-widget-btn')
            .forEach(el => { el.style.opacity='0'; el.style.pointerEvents='none'; el.style.transform='scale(0.01)'; });

          const w = document.querySelector('bp-web-widget');
          if (w && w.shadowRoot && !w.shadowRoot.getElementById('hide-launcher-style')) {
            const st = document.createElement('style');
            st.id = 'hide-launcher-style';
            st.textContent = `
              .bpw-floating-button, .bpw-widget-btn, .bpw-fab, #bpw-widget-btn{
                opacity:0 !important;
                pointer-events:none !important;
                transform:scale(0.01) !important;
              }
            `;
            w.shadowRoot.appendChild(st);
          }
        }catch(e){}
        if (Date.now() - start > 12000) clearInterval(t);
      }, 300);
    })();
  </script>

</body>
</html>
